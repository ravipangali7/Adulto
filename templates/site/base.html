<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- SEO Meta Tags -->
    <title>{% block title %}Desi X Zone - Your Video Destination{% endblock %}</title>
    <meta name="description" content="{% block description %}Discover and watch amazing videos across various categories. Your premier destination for high-quality video content.{% endblock %}">
    <meta name="keywords" content="{% block keywords %}videos, entertainment, categories, latest, popular, streaming, online videos, video platform{% endblock %}">
    <meta name="author" content="Desi X Zone">
    <meta name="robots" content="{% block robots %}index, follow{% endblock %}">
    <meta name="language" content="en-US">
    <meta name="revisit-after" content="7 days">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{% block canonical %}{{ request.build_absolute_uri }}{% endblock %}">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="{% block og_type %}website{% endblock %}">
    <meta property="og:title" content="{% block og_title %}Desi X Zone - Your Video Destination{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Discover and watch amazing videos across various categories. Your premier destination for high-quality video content.{% endblock %}">
    <meta property="og:url" content="{% block og_url %}{{ request.build_absolute_uri }}{% endblock %}">
    <meta property="og:site_name" content="Desi X Zone">
    <meta property="og:image" content="{% block og_image %}{{ request.scheme }}://{{ request.get_host }}{% static 'core/logo.png' %}{% endblock %}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="{% block twitter_card %}summary_large_image{% endblock %}">
    <meta name="twitter:title" content="{% block twitter_title %}Desi X Zone - Your Video Destination{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}Discover and watch amazing videos across various categories. Your premier destination for high-quality video content.{% endblock %}">
    <meta name="twitter:image" content="{% block twitter_image %}{{ request.scheme }}://{{ request.get_host }}{% static 'core/logo.png' %}{% endblock %}">
    <meta name="twitter:site" content="@desixzone">
    <meta name="twitter:creator" content="@desixzone">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#FFD700">
    <meta name="msapplication-TileColor" content="#FFD700">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Desi X Zone">
    
    <!-- Structured Data -->
    {% block structured_data %}{% endblock %}

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K1XP0N6Q26"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-K1XP0N6Q26');
    </script>
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="/static/core/logo.png" />
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- SweetAlert2 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% load static %}{% static 'site/css/variables.css' %}">
    
    <!-- Google Analytics -->
    {% load analytics %}
    {% google_analytics %}
    
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-gold': '#FFD700',
                        'primary-gold-dark': '#B8860B',
                        'primary-gold-light': '#FFF8DC',
                        'bg-dark': '#1a1a1a',
                        'bg-darker': '#0d0d0d',
                        'bg-grey': '#2d2d2d',
                        'bg-grey-light': '#404040',
                    }
                }
            }
        }
    </script>
    
    {% block extra_css %}{% endblock %}
</head>
<body class="bg-dark-custom text-white min-h-screen flex flex-col">
    <!-- Header -->
    {% include 'site/partials/header.html' %}
    
    <!-- Navigation -->
    {% include 'site/partials/navbar.html' %}
    
    <!-- Main Content -->
    <main class="flex-1">
        {% block content %}{% endblock %}
    </main>
    
    <!-- Footer -->
    {% include 'site/partials/footer.html' %}
    
    <!-- Age Verification Modal -->
    {% include 'site/partials/age_verification_modal.html' %}
    
    <!-- Loading Spinner -->
    <div id="loading-spinner" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-grey-custom p-6 rounded-lg flex items-center space-x-3">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-gold"></div>
            <span class="text-white">Loading...</span>
        </div>
    </div>
    
    <!-- JavaScript -->
    <script src="{% load static %}{% static 'site/js/site.js' %}"></script>
    
    <!-- Django Messages to SweetAlert -->
    <script>
        // Handle Django messages with SweetAlert2
        {% if messages %}
            {% for message in messages %}
                {% if message.tags == 'error' %}
                    Swal.fire({
                        icon: 'error',
                        title: 'Error!',
                        text: '{{ message|escapejs }}',
                        confirmButtonColor: '#FFD700',
                        background: '#2d2d2d',
                        color: '#ffffff'
                    });
                {% elif message.tags == 'success' %}
                    Swal.fire({
                        icon: 'success',
                        title: 'Success!',
                        text: '{{ message|escapejs }}',
                        confirmButtonColor: '#FFD700',
                        background: '#2d2d2d',
                        color: '#ffffff'
                    });
                {% elif message.tags == 'warning' %}
                    Swal.fire({
                        icon: 'warning',
                        title: 'Warning!',
                        text: '{{ message|escapejs }}',
                        confirmButtonColor: '#FFD700',
                        background: '#2d2d2d',
                        color: '#ffffff'
                    });
                {% elif message.tags == 'info' %}
                    Swal.fire({
                        icon: 'info',
                        title: 'Info',
                        text: '{{ message|escapejs }}',
                        confirmButtonColor: '#FFD700',
                        background: '#2d2d2d',
                        color: '#ffffff'
                    });
                {% else %}
                    Swal.fire({
                        icon: 'info',
                        title: 'Notice',
                        text: '{{ message|escapejs }}',
                        confirmButtonColor: '#FFD700',
                        background: '#2d2d2d',
                        color: '#ffffff'
                    });
                {% endif %}
            {% endfor %}
        {% endif %}
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>
